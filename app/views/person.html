<h1>Person View</h1>

<br>

<a href="/open_positions">open positions</a>

<br>
  <form>
    <input id="file" type="file">
    <button class="small" ng-click="person.userClickedUploadButton()"> upload </button>
  </form>
<br>
<span ng-if="person.personIsNotEmpty()">

  <a href="/profile_edit/{{person.personId}}"> edit profile </a>
  <br><br>
<!-- http://localhost:3000/{{person.avatar}} -->
<img ng-src="http://localhost:3000/{{person.avatar|trusted}}" width="140" height="78"/>
<br><br>

Name: {{person.currentUserName}}
    <br><br>
    Teams: <br><br>
    <div ng-repeat="team in person.teams">
        Team Name:  <a href="/team/{{team}}"> {{person.getTeamName(team)}} </a>  <br>
        Role: {{person.getTeamRole(team)}}<br>
        <br>
    </div>

<br>
Videos:
    <br><br>
<div class="video">
  <div ng-repeat="team in person.teams">
      Team: {{person.getTeamName(team)}} <br>
      Role: {{person.getTeamRole(team)}}<br>
      <ol>
          <li ng-repeat="video in person.getVideos(team)">
              <iframe width="280" height="157" ng-src="{{person.getYoutubeLink(video.youtube_link)|trusted}}"
                      frameborder="0"
                      allowfullscreen></iframe>
          </li>
      </ol>

  </div>
</div>
     <br> <br>

    <div ng-repeat="team in person.allTeams">

        Team Name: {{team.name}}
        <ol>
            Role(s):
            <li ng-repeat="role in person.getAdvertisedRoles(team.id)">

                {{ role.role }} <button class="small" ng-click="person.addTeamMembershipApplication(role,team.id)">
                                       apply </button>
            </li>
        </ol>

    </div>

</span>
